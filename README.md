# Beamerで動画するやつ

## 利用上の注意

サンプルとして採用した動画は
[NHKクリエイティブ・ライブラリーからのもの](https://www2.nhk.or.jp/archives/creative/material/view.cgi?m=D0002161770_00000)
です．
ソースコード自体はMITライセンスですが，動画ファイルの利用はあちらの利用規約に従ってください．

なお，TeX Live 2021での動作は確認していますが，
あまりにもバージョンが古いと正常に動作しない可能性があります．

## PDFの再生

ここでは，生成されたPDFファイルがあるディレクトリをカレントディレクトリとしたときに
「`./movie/`」に動画ファイルが，「`./fig/`」に画像ファイルがあることを前提としています．
動画ファイルはPDFに真の意味で埋め込まれているわけではなく，単に再生時にデータを引っ張ってきているだけなので，ディレクトリの構造を壊すと動画を再生できなくなります．

さらに，動画再生時の挙動はPDFを表示している環境に大きく依存します．
筆者の環境では，`externalviewer`オプションをつけているものは
WindowsのAcrobat Reader DCやFotix PDF Readerでも動画再生ソフトの呼び出しが行われましたが，
つけていないものはどちらも正常に動作しませんでした．
`externalviewer`オプションなしの状況下で正常に動作したのは，筆者が試した限りではLinux版のOkularのみです．
Evinceはプレゼンテーションモードのときに
動画が再生されませんでした（プレゼンテーションモードでないときには正常に動作）．
もちろん，`externalviewer`オプション採用時はどちらも正常に動画再生ソフトの呼び出しが行われました．

## `\movie`コマンドのいくつかのオプションについて

Beamerパッケージのドキュメントには，
`\movie`コマンドのオプションに`poster`を指定すると，
動画を再生する前のサムネイルにその動画の最初の画像を表示することができると記されています．
しかし私の環境ではまったく動作しなかったため，ここではサムネイルを指定しています．

また，`\movie`コマンドのオプションに`showcontrols`を指定すると，
動画再生時にコントロールバーを表示することができます．
途中から再生したり任意の時間だけ巻き戻したりできるので，必要ならば指定しておくとよいでしょう．


## ビルド

このリポジトリには3つのTeXファイルがあり，それぞれ

* pdfLaTeX採用で欧文(`eng-pdflatex.tex`)
* LuaLaTeX採用で欧文(`eng-lualatex.tex`)
* LuaLaTeX採用で和文(`ja-lualatex.tex`)

です．ビルドは単純に，それぞれ

```sh
pdflatex eng-pdflatex.tex
lualatex eng-lualatex.tex
lualatex ja-lualatex.tex
```

でできます．